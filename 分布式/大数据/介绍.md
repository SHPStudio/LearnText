# 数据仓库
## 介绍
  特性

  1. 面向主题的
  2. 集成的
  3. 非易失的
  4. 随时间变化的

  用于支持管理决策的数据集合
## 没有数据仓库
  如果没有数据仓库，我们需要对订单和商品做一个分析的话，
  那么需要先去订单研发去要有关订单的数据，然后去跟商品去要
  有关商品的数据，最后再混合在一起进行分析。
## 好处
  数据仓库有不同的数据模型，提取数据可以按照不同业务知识来提取，快捷方便。
  把各个平台用到的数据集合起来组成数据仓库，取数据只要从数据仓库中取即可。

# 数据仓库数据流
1. 从各个平台系统中抽取数据，比如从订单售后系统抽取订单信息，从商品主站抽取商品信息等等
2. 抽取到的数据放到数据仓库中
3. 数据仓库把这些比较零散的数据进行加工处理
4. 数据仓库把处理过的数据推送到数据集市上，数据集市是一个更大规模数据分类集合。
5. 依托这些数据集市来组建相应的大数据产品比如数据查阅，数据分析等等。
6. 我们的分析师或者研发人员就可以使用这些大数据产品来完成我们的一些业务需求，或者做一些数据分析报告。

# 数据仓库的处理
## BDM 缓冲数据层
  缓冲数据层是从各个平台系统中刚刚抽取过来的数据，一般这种数据会有一个分区，
  分区的规则大概是按照每天来划分的
## FDM 基础数据层
  他有两种处理策略，一种是流水表，一种是拉链表
  1. 流水表

  每天只有新增，历史数据不会新增
  2. 拉链表

  拉链表表示历史数据可能会变化，比如我们有一个销售商品的表，这条数据可能会经常的修改
  dp: active代表目前数据是活动状态可能会变 expend 不会改变了
  dt: 确定不再修改的时间
  enddata: 最后修改的时间
  拉链表可以按照这几个可变项来进行分区
  查询的时候就用startdate<=xxx > enddate 这种可以查询历史快照
  如果查询最新数据就按照dp为active去查询

## GDM 通用数据层
  他是按照主题来划分的，比如订单、商品、采销等等
  能够查到订单号，商品编号等等
## DIM 聚合数据层
  按照维度来汇总的，这里面是把数据所属的维度信息存储起来
  一般是不会变的，比如省市县，订单的类型等等